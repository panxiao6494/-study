<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>es6异步</title>
</head>

<body>
    <script type="text/javascript">
    //yield
    function* show() {
        console.log('a');
        let a = yield;
        console.log('b');
        console.log(a) //5,yield暂停，next执行第二步
    }
    let gen = show();
    gen.next(12);
    gen.next(5);



    //promise
    let promise = new Promise(function(resolve, reject) {
        setTimeout(() => {
            console.log('promise')
            resolve(); //成功后的回调
        }, 2000) //promise创建会被立即执行
    });
    promise.then(function() { //异步的链式操作
        console.log('resolved.');
    });
    console.log('Hi!');




    //Promise深度理解
    console.log(1);
    setTimeout(function() {
        console.log(2);
    }, 0);
    new Promise(function(resolve) {
        console.log(3);
        resolve(Date.now());
    }).then(function() {
        console.log(4);
    });
    console.log(5);
    setTimeout(function() {
        new Promise(function(resolve) {
            console.log(6);
            resolve(Date.now());
        }).then(function() {
            console.log(7);
        });
    }, 0);
    </script>
</body>

</html>